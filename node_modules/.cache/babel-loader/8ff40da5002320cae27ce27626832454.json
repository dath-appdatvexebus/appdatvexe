{"ast":null,"code":"import _defineProperty from\"C:\\\\xampp\\\\htdocs\\\\vexedientu\\\\Front-End\\\\dath-react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _classCallCheck from\"C:\\\\xampp\\\\htdocs\\\\vexedientu\\\\Front-End\\\\dath-react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\xampp\\\\htdocs\\\\vexedientu\\\\Front-End\\\\dath-react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\xampp\\\\htdocs\\\\vexedientu\\\\Front-End\\\\dath-react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\xampp\\\\htdocs\\\\vexedientu\\\\Front-End\\\\dath-react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\xampp\\\\htdocs\\\\vexedientu\\\\Front-End\\\\dath-react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import DatePicker from\"react-datepicker\";import\"react-datepicker/dist/react-datepicker.css\";import{connect}from\"react-redux\";import Axios from\"axios\";import{Redirect}from\"react-router-dom\";import ReactNotification from\"react-notifications-component\";import\"react-notifications-component/dist/theme.css\";import{store}from\"react-notifications-component\";var Home=/*#__PURE__*/function(_Component){_inherits(Home,_Component);var _super=_createSuper(Home);function Home(props){var _this;_classCallCheck(this,Home);_this=_super.call(this,props);_this.handleDateChange=function(date){_this.setState({ngayDi:date});};_this.a1=[];_this.state={ngayDi:new Date(),idBenDi:0,idBenDen:0,idTuyen:0,inputTuyen:\"\",isRedirectToChonGhe:false};_this.handleDateChange=_this.handleDateChange.bind(_assertThisInitialized(_this));_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));return _this;}// get danh sách tuyến và danh sách bến từ API\n_createClass(Home,[{key:\"getAll\",value:function getAll(){var _this2=this;Axios.all([Axios.get(\"http://localhost:8000/api/ben\"),Axios.get(\"http://localhost:8000/api/tuyen\")]).then(function(resArr){//console.log(resArr[0].data); // in ra danh sách bến để test\n//console.log(resArr[1].data); // in ra danh sách tuyến để test\n// đẩy danh sách bên lấy từ API vào state trong reducer\n_this2.props.dispatch({type:\"FETCH_DSBEN\",payload:resArr[0].data});// đẩy danh sách tuyến lấy từ API vào state trong reducer\n_this2.props.dispatch({type:\"FETCH_DSTUYEN\",payload:resArr[1].data});}).catch(function(err){console.log(err);});}// force update HTML\n},{key:\"componentDidMount\",value:function componentDidMount(){this.getAll();}// bắt sự kiện thay đổi ngày\n},{key:\"handleChange\",//bắt sự kiện thay đổi tuyến đi, tuyến đến\nvalue:function handleChange(event){this.setState(_defineProperty({},event.target.name,parseInt(event.target.value)));}// sự kiện nhấn button submit\n},{key:\"handleSubmit\",value:function handleSubmit(event){var _this3=this;event.preventDefault();if(this.state.idBenDi===0){store.addNotification({message:\"Vui lòng chọn điểm đi\",type:\"warning\",insert:\"top\",container:\"top-right\",animationIn:[\"animated\",\"animate__flipInX\"],animationOut:[\"animated\",\"animate__fadeOutDown\"],dismiss:{duration:5000,onScreen:true}});}else if(this.state.idBenDen===0){store.addNotification({message:\"Vui lòng chọn điểm đến\",type:\"warning\",insert:\"top\",container:\"top-right\",animationIn:[\"animated\",\"animate__flipInX\"],animationOut:[\"animated\",\"animate__fadeOutDown\"],dismiss:{duration:5000,onScreen:true}});}else{this.props.dstuyenData.map(function(tuyen,index){if(tuyen.idBenDi===_this3.state.idBenDi&&tuyen.idBenDen===_this3.state.idBenDen){_this3.setState({idTuyen:tuyen.id,inputTuyen:tuyen.TenTuyen},function(){if(typeof Storage!==\"undefined\"){// Khởi tạo sesionStorage\nsessionStorage.setItem(\"chonTuyen\",JSON.stringify(_this3.state));}else{alert(\"Trình duyệt của bạn không hỗ trợ!\");}return console.log(_this3.state);});}});this.setState({isRedirectToChonGhe:true});}}// mảng a1 lưu trữ các bến có thể chọn\n},{key:\"render\",value:function render(){var _this4=this,_React$createElement;// lấy id những bến có thể đến sau khi chọn bến đi\nif(this.state.idBenDi===0){console.log(\"Chưa chọn bến đi\");}else{this.a1=[];this.props.dstuyenData.map(function(item,index){if(_this4.state.idBenDi===item.idBenDi){_this4.a1.push(item.idBenDen);}});}// in ra giao diện các danh sách bến có thể đi\nvar dsbenden=this.props.dsbenData.map(function(item,index){if(_this4.a1.indexOf(item.id)!==-1){return/*#__PURE__*/React.createElement(\"option\",{key:index,value:item.id},item.TenBen);}});//điều kiện chuyển hướng\nif(this.state.isRedirectToChonGhe===true){return/*#__PURE__*/React.createElement(Redirect,{to:\"/chon-ghe\"});}return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{id:\"booking\",className:\"section\"},/*#__PURE__*/React.createElement(ReactNotification,null),/*#__PURE__*/React.createElement(\"div\",{className:\"cloud\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"section-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"booking-form z-indept-2\"},/*#__PURE__*/React.createElement(\"form\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"select\",{className:\"form-control\",onChange:function onChange(event){return _this4.handleChange(event);},id:\"benDi\",name:\"idBenDi\"},/*#__PURE__*/React.createElement(\"option\",{value:this.state.idBenDi},\"Ch\\u1ECDn \\u0111i\\u1EC3m \\u0111i\"),this.props.dsbenData.map(function(item,index){return/*#__PURE__*/React.createElement(\"option\",{key:index,value:item.id},item.TenBen);})))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"select\",{className:\"form-control\",onChange:function onChange(event){return _this4.handleChange(event);},id:\"benDen\",name:\"idBenDen\"},/*#__PURE__*/React.createElement(\"option\",{value:this.state.idBenDen},\"Ch\\u1ECDn \\u0111i\\u1EC3m \\u0111\\u1EBFn\"),dsbenden))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group bmd-form-group\"},/*#__PURE__*/React.createElement(DatePicker,(_React$createElement={name:\"date\",className:\"form-control\",selected:this.state.ngayDi,onChange:this.handleDateChange,minDate:new Date()},_defineProperty(_React$createElement,\"name\",\"startDate\"),_defineProperty(_React$createElement,\"dateFormat\",\"MM/dd/yyyy\"),_React$createElement)))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-btn\"},/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(event){return _this4.handleSubmit(event);},className:\"btn btn-warning btn-block btn-lg waves-effect waves-light z-indept-1\"},\"Mua v\\xE9\")))))))))),/*#__PURE__*/React.createElement(\"div\",{className:\"cd-section\",id:\"projects\"},/*#__PURE__*/React.createElement(\"div\",{className:\"projects-1\",id:\"projects-1\"},/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-8 ml-auto mr-auto text-center\"},/*#__PURE__*/React.createElement(\"h2\",{className:\"title\"},\"Some of Our Awesome Products - 1\"),/*#__PURE__*/React.createElement(\"ul\",{className:\"nav nav-pills nav-pills-rose\"},/*#__PURE__*/React.createElement(\"li\",{className:\"nav-item\"},/*#__PURE__*/React.createElement(\"a\",{className:\"nav-link active\",href:\"#pill1\",\"data-toggle\":\"tab\"},\"All\")),/*#__PURE__*/React.createElement(\"li\",{className:\"nav-item\"},/*#__PURE__*/React.createElement(\"a\",{className:\"nav-link\",href:\"#pill2\",\"data-toggle\":\"tab\"},\"Marketing\")),/*#__PURE__*/React.createElement(\"li\",{className:\"nav-item\"},/*#__PURE__*/React.createElement(\"a\",{className:\"nav-link\",href:\"#pill3\",\"data-toggle\":\"tab\"},\"Development\")),/*#__PURE__*/React.createElement(\"li\",{className:\"nav-item\"},/*#__PURE__*/React.createElement(\"a\",{className:\"nav-link\",href:\"#pill3\",\"data-toggle\":\"tab\"},\"Productivity\")),/*#__PURE__*/React.createElement(\"li\",{className:\"nav-item\"},/*#__PURE__*/React.createElement(\"a\",{className:\"nav-link\",href:\"#pill3\",\"data-toggle\":\"tab\"},\"Web Design\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"tab-content tab-space\"},/*#__PURE__*/React.createElement(\"div\",{className:\"tab-pane active\",id:\"pill1\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"tab-pane\",id:\"pill2\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"tab-pane\",id:\"pill3\"})))),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card card-raised card-background\",style:{backgroundImage:'url(\"assets/img/examples/office2.jpg\")'}},/*#__PURE__*/React.createElement(\"div\",{className:\"card-body\"},/*#__PURE__*/React.createElement(\"h6\",{className:\"card-category text-info\"},\"Productivity\"),/*#__PURE__*/React.createElement(\"a\",{href:\"#pablo\"},/*#__PURE__*/React.createElement(\"h3\",{className:\"card-title\"},\"The Best Productivity Apps on Market\")),/*#__PURE__*/React.createElement(\"p\",{className:\"card-description\"},\"Don't be scared of the truth because we need to restart the human foundation in truth And I love you like Kanye loves Kanye I love Rick Owens\\u2019 bed design but the back is...\"),/*#__PURE__*/React.createElement(\"a\",{href:\"#pablo\",className:\"btn btn-danger btn-round\"},/*#__PURE__*/React.createElement(\"i\",{className:\"material-icons\"},\"content_copy\"),\" View App\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card card-raised card-background\",style:{backgroundImage:'url(\"assets/img/examples/card-blog3.jpg\")'}},/*#__PURE__*/React.createElement(\"div\",{className:\"card-body\"},/*#__PURE__*/React.createElement(\"h6\",{className:\"card-category text-info\"},\"Design\"),/*#__PURE__*/React.createElement(\"h3\",{className:\"card-title\"},\"The Sculpture Where Details Matter\"),/*#__PURE__*/React.createElement(\"p\",{className:\"card-description\"},\"Don't be scared of the truth because we need to restart the human foundation in truth And I love you like Kanye loves Kanye I love Rick Owens\\u2019 bed design but the back is...\"),/*#__PURE__*/React.createElement(\"a\",{href:\"#pablo\",className:\"btn btn-info btn-round\"},/*#__PURE__*/React.createElement(\"i\",{className:\"material-icons\"},\"build\"),\" View Project\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card card-raised card-background\",style:{backgroundImage:'url(\"assets/img/examples/card-project6.jpg\")'}},/*#__PURE__*/React.createElement(\"div\",{className:\"card-body\"},/*#__PURE__*/React.createElement(\"h6\",{className:\"card-category text-info\"},\"Marketing\"),/*#__PURE__*/React.createElement(\"h3\",{className:\"card-title\"},\"0 to 100.000 Customers in 6 months\"),/*#__PURE__*/React.createElement(\"p\",{className:\"card-description\"},\"Don't be scared of the truth because we need to restart the human foundation in truth And I love you like Kanye loves Kanye I love Rick Owens\\u2019 bed design but the back is...\"),/*#__PURE__*/React.createElement(\"a\",{href:\"#pablo\",className:\"btn btn-warning btn-round\"},/*#__PURE__*/React.createElement(\"i\",{className:\"material-icons\"},\"subject\"),\" Case Study\")))))))));}}]);return Home;}(Component);var mapStateToProps=function mapStateToProps(state,ownProps){return{dsbenData:state.dsbenReducer.dsbenData,dstuyenData:state.dstuyenReducer.dstuyenData};};export default connect(mapStateToProps)(Home);","map":{"version":3,"sources":["C:/xampp/htdocs/vexedientu/Front-End/dath-react/src/components/Home.js"],"names":["React","Component","DatePicker","connect","Axios","Redirect","ReactNotification","store","Home","props","handleDateChange","date","setState","ngayDi","a1","state","Date","idBenDi","idBenDen","idTuyen","inputTuyen","isRedirectToChonGhe","bind","handleChange","handleSubmit","all","get","then","resArr","dispatch","type","payload","data","catch","err","console","log","getAll","event","target","name","parseInt","value","preventDefault","addNotification","message","insert","container","animationIn","animationOut","dismiss","duration","onScreen","dstuyenData","map","tuyen","index","id","TenTuyen","Storage","sessionStorage","setItem","JSON","stringify","alert","item","push","dsbenden","dsbenData","indexOf","TenBen","backgroundImage","mapStateToProps","ownProps","dsbenReducer","dstuyenReducer"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport { connect } from \"react-redux\";\r\nimport Axios from \"axios\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport ReactNotification from \"react-notifications-component\";\r\nimport \"react-notifications-component/dist/theme.css\";\r\nimport { store } from \"react-notifications-component\";\r\n\r\nclass Home extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      ngayDi: new Date(),\r\n      idBenDi: 0,\r\n      idBenDen: 0,\r\n      idTuyen: 0,\r\n      inputTuyen: \"\",\r\n      isRedirectToChonGhe: false,\r\n    };\r\n    this.handleDateChange = this.handleDateChange.bind(this);\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  // get danh sách tuyến và danh sách bến từ API\r\n  getAll() {\r\n    Axios.all([\r\n      Axios.get(\"http://localhost:8000/api/ben\"),\r\n      Axios.get(\"http://localhost:8000/api/tuyen\"),\r\n    ])\r\n      .then((resArr) => {\r\n        //console.log(resArr[0].data); // in ra danh sách bến để test\r\n        //console.log(resArr[1].data); // in ra danh sách tuyến để test\r\n        // đẩy danh sách bên lấy từ API vào state trong reducer\r\n        this.props.dispatch({\r\n          type: \"FETCH_DSBEN\",\r\n          payload: resArr[0].data,\r\n        });\r\n        // đẩy danh sách tuyến lấy từ API vào state trong reducer\r\n        this.props.dispatch({\r\n          type: \"FETCH_DSTUYEN\",\r\n          payload: resArr[1].data,\r\n        });\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  // force update HTML\r\n  componentDidMount() {\r\n    this.getAll();\r\n  }\r\n\r\n  // bắt sự kiện thay đổi ngày\r\n  handleDateChange = (date) => {\r\n    this.setState({\r\n      ngayDi: date,\r\n    });\r\n  };\r\n\r\n  //bắt sự kiện thay đổi tuyến đi, tuyến đến\r\n  handleChange(event) {\r\n    this.setState({\r\n      [event.target.name]: parseInt(event.target.value),\r\n    });\r\n  }\r\n\r\n  // sự kiện nhấn button submit\r\n  handleSubmit(event) {\r\n    event.preventDefault();\r\n    if (this.state.idBenDi === 0) {\r\n      store.addNotification({\r\n        message: \"Vui lòng chọn điểm đi\",\r\n        type: \"warning\",\r\n        insert: \"top\",\r\n        container: \"top-right\",\r\n        animationIn: [\"animated\", \"animate__flipInX\"],\r\n        animationOut: [\"animated\", \"animate__fadeOutDown\"],\r\n        dismiss: {\r\n          duration: 5000,\r\n          onScreen: true,\r\n        },\r\n      });\r\n    } else if (this.state.idBenDen === 0) {\r\n      store.addNotification({\r\n        message: \"Vui lòng chọn điểm đến\",\r\n        type: \"warning\",\r\n        insert: \"top\",\r\n        container: \"top-right\",\r\n        animationIn: [\"animated\", \"animate__flipInX\"],\r\n        animationOut: [\"animated\", \"animate__fadeOutDown\"],\r\n        dismiss: {\r\n          duration: 5000,\r\n          onScreen: true,\r\n        },\r\n      });\r\n    } else {\r\n      this.props.dstuyenData.map((tuyen, index) => {\r\n        if (\r\n          tuyen.idBenDi === this.state.idBenDi &&\r\n          tuyen.idBenDen === this.state.idBenDen\r\n        ) {\r\n          this.setState(\r\n            {\r\n              idTuyen: tuyen.id,\r\n              inputTuyen: tuyen.TenTuyen,\r\n            },\r\n            () => {\r\n              if (typeof Storage !== \"undefined\") {\r\n                // Khởi tạo sesionStorage\r\n                sessionStorage.setItem(\"chonTuyen\", JSON.stringify(this.state));\r\n              } else {\r\n                alert(\"Trình duyệt của bạn không hỗ trợ!\");\r\n              }\r\n              return console.log(this.state);\r\n            }\r\n          );\r\n        }\r\n      });\r\n      this.setState({ isRedirectToChonGhe: true });\r\n    }\r\n  }\r\n\r\n  // mảng a1 lưu trữ các bến có thể chọn\r\n  a1 = [];\r\n\r\n  render() {\r\n    \r\n    // lấy id những bến có thể đến sau khi chọn bến đi\r\n    if (this.state.idBenDi === 0) {\r\n      console.log(\"Chưa chọn bến đi\");\r\n    } else {\r\n      this.a1 = [];\r\n      this.props.dstuyenData.map((item, index) => {\r\n        if (this.state.idBenDi === item.idBenDi) {\r\n          this.a1.push(item.idBenDen);\r\n        }\r\n      });\r\n    }\r\n\r\n    // in ra giao diện các danh sách bến có thể đi\r\n    var dsbenden = this.props.dsbenData.map((item, index) => {\r\n      if (this.a1.indexOf(item.id) !== -1) {\r\n        return (\r\n          <option key={index} value={item.id}>\r\n            {item.TenBen}\r\n          </option>\r\n        );\r\n      }\r\n    });\r\n    //điều kiện chuyển hướng\r\n    if (this.state.isRedirectToChonGhe === true) {\r\n      return <Redirect to=\"/chon-ghe\" />;\r\n    }\r\n    \r\n    return (\r\n      <div>\r\n        <div id=\"booking\" className=\"section\">\r\n          <ReactNotification />\r\n          <div className=\"cloud\"></div>\r\n          <div className=\"section-center\">\r\n            <div className=\"container\">\r\n              <div className=\"row\">\r\n                <div className=\"booking-form z-indept-2\">\r\n                  <form>\r\n                    <div className=\"row\">\r\n                      <div className=\"col-md-4\">\r\n                        <div className=\"form-group\">\r\n                          <select\r\n                            className=\"form-control\"\r\n                            onChange={(event) => this.handleChange(event)}\r\n                            id=\"benDi\"\r\n                            name=\"idBenDi\"\r\n                          >\r\n                            <option value={this.state.idBenDi}>\r\n                              Chọn điểm đi\r\n                            </option>\r\n                            {this.props.dsbenData.map((item, index) => {\r\n                              return (\r\n                                <option key={index} value={item.id}>\r\n                                  {item.TenBen}\r\n                                </option>\r\n                              );\r\n                            })}\r\n                          </select>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-md-4\">\r\n                        <div className=\"form-group\">\r\n                          <select\r\n                            className=\"form-control\"\r\n                            onChange={(event) => this.handleChange(event)}\r\n                            id=\"benDen\"\r\n                            name=\"idBenDen\"\r\n                          >\r\n                            <option value={this.state.idBenDen}>\r\n                              Chọn điểm đến\r\n                            </option>\r\n                            {dsbenden}\r\n                          </select>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-md-2\">\r\n                        <div className=\"form-group bmd-form-group\">\r\n                          <DatePicker\r\n                            name=\"date\"\r\n                            className=\"form-control\"\r\n                            selected={this.state.ngayDi}\r\n                            onChange={this.handleDateChange}\r\n                            minDate={new Date()}\r\n                            name=\"startDate\"\r\n                            dateFormat=\"MM/dd/yyyy\"\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-md-2\">\r\n                        <div className=\"form-btn\">\r\n                          <button\r\n                            onClick={(event) => this.handleSubmit(event)}\r\n                            className=\"btn btn-warning btn-block btn-lg waves-effect waves-light z-indept-1\"\r\n                          >\r\n                            Mua vé\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </form>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        {/* end section search */}\r\n        <div className=\"cd-section\" id=\"projects\">\r\n          {/*     *********    PROJECTS 1     *********      */}\r\n          <div className=\"projects-1\" id=\"projects-1\">\r\n            <div className=\"container\">\r\n              <div className=\"row\">\r\n                <div className=\"col-md-8 ml-auto mr-auto text-center\">\r\n                  <h2 className=\"title\">Some of Our Awesome Products - 1</h2>\r\n                  <ul className=\"nav nav-pills nav-pills-rose\">\r\n                    <li className=\"nav-item\">\r\n                      <a\r\n                        className=\"nav-link active\"\r\n                        href=\"#pill1\"\r\n                        data-toggle=\"tab\"\r\n                      >\r\n                        All\r\n                      </a>\r\n                    </li>\r\n                    <li className=\"nav-item\">\r\n                      <a className=\"nav-link\" href=\"#pill2\" data-toggle=\"tab\">\r\n                        Marketing\r\n                      </a>\r\n                    </li>\r\n                    <li className=\"nav-item\">\r\n                      <a className=\"nav-link\" href=\"#pill3\" data-toggle=\"tab\">\r\n                        Development\r\n                      </a>\r\n                    </li>\r\n                    <li className=\"nav-item\">\r\n                      <a className=\"nav-link\" href=\"#pill3\" data-toggle=\"tab\">\r\n                        Productivity\r\n                      </a>\r\n                    </li>\r\n                    <li className=\"nav-item\">\r\n                      <a className=\"nav-link\" href=\"#pill3\" data-toggle=\"tab\">\r\n                        Web Design\r\n                      </a>\r\n                    </li>\r\n                  </ul>\r\n                  <div className=\"tab-content tab-space\">\r\n                    <div className=\"tab-pane active\" id=\"pill1\" />\r\n                    <div className=\"tab-pane\" id=\"pill2\" />\r\n                    <div className=\"tab-pane\" id=\"pill3\" />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"row\">\r\n                <div className=\"col-md-6\">\r\n                  <div\r\n                    className=\"card card-raised card-background\"\r\n                    style={{\r\n                      backgroundImage: 'url(\"assets/img/examples/office2.jpg\")',\r\n                    }}\r\n                  >\r\n                    <div className=\"card-body\">\r\n                      <h6 className=\"card-category text-info\">Productivity</h6>\r\n                      <a href=\"#pablo\">\r\n                        <h3 className=\"card-title\">\r\n                          The Best Productivity Apps on Market\r\n                        </h3>\r\n                      </a>\r\n                      <p className=\"card-description\">\r\n                        Don't be scared of the truth because we need to restart\r\n                        the human foundation in truth And I love you like Kanye\r\n                        loves Kanye I love Rick Owens’ bed design but the back\r\n                        is...\r\n                      </p>\r\n                      <a href=\"#pablo\" className=\"btn btn-danger btn-round\">\r\n                        <i className=\"material-icons\">content_copy</i> View App\r\n                      </a>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-md-6\">\r\n                  <div\r\n                    className=\"card card-raised card-background\"\r\n                    style={{\r\n                      backgroundImage:\r\n                        'url(\"assets/img/examples/card-blog3.jpg\")',\r\n                    }}\r\n                  >\r\n                    <div className=\"card-body\">\r\n                      <h6 className=\"card-category text-info\">Design</h6>\r\n                      <h3 className=\"card-title\">\r\n                        The Sculpture Where Details Matter\r\n                      </h3>\r\n                      <p className=\"card-description\">\r\n                        Don't be scared of the truth because we need to restart\r\n                        the human foundation in truth And I love you like Kanye\r\n                        loves Kanye I love Rick Owens’ bed design but the back\r\n                        is...\r\n                      </p>\r\n                      <a href=\"#pablo\" className=\"btn btn-info btn-round\">\r\n                        <i className=\"material-icons\">build</i> View Project\r\n                      </a>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-md-12\">\r\n                  <div\r\n                    className=\"card card-raised card-background\"\r\n                    style={{\r\n                      backgroundImage:\r\n                        'url(\"assets/img/examples/card-project6.jpg\")',\r\n                    }}\r\n                  >\r\n                    <div className=\"card-body\">\r\n                      <h6 className=\"card-category text-info\">Marketing</h6>\r\n                      <h3 className=\"card-title\">\r\n                        0 to 100.000 Customers in 6 months\r\n                      </h3>\r\n                      <p className=\"card-description\">\r\n                        Don't be scared of the truth because we need to restart\r\n                        the human foundation in truth And I love you like Kanye\r\n                        loves Kanye I love Rick Owens’ bed design but the back\r\n                        is...\r\n                      </p>\r\n                      <a href=\"#pablo\" className=\"btn btn-warning btn-round\">\r\n                        <i className=\"material-icons\">subject</i> Case Study\r\n                      </a>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    dsbenData: state.dsbenReducer.dsbenData,\r\n    dstuyenData: state.dstuyenReducer.dstuyenData,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(Home);\r\n"]},"metadata":{},"sourceType":"module"}